<script>
function handleSend(){
  const text = userInput.value.trim();
  if(!text) return;

  addMessage(text, "user");
  userInput.value = "";

  const input = text.toLowerCase();

  setTimeout(() => {

    // ğŸ“¦ Order tracking flow
    if(waitingForOrderId){
      waitingForOrderId = false;
      addMessage(
        `ğŸ” Order <b>${text}</b> is currently <b>Out for Delivery ğŸšš</b>`,
        "bot"
      );
    }

    // ğŸ‘‹ Greetings
    else if(
      input === "hi" ||
      input === "hello" ||
      input === "hey"
    ){
      addMessage(
        "Hey! ğŸ‘‹ What can I help you with today? ğŸ’•<br><br>ğŸ‘‰ Type <b>show collection</b> or <b>track order</b>",
        "bot"
      );
    }

    // ğŸ‘— Show dresses
    else if(
      input.includes("show") ||
      input.includes("collection") ||
      input.includes("dress")
    ){
      showCatalog();
    }

    // ğŸ“¦ Track order
    else if(input.includes("track")){
      startTracking();
    }

    // ğŸ›’ Cart info
    else if(input.includes("cart")){
      addMessage(
        `ğŸ›’ You currently have <b>${cart.length}</b> item(s) in your cart`,
        "bot"
      );
    }

    // âŒ Irrelevant questions
    else if(
      input.includes("weather") ||
      input.includes("joke") ||
      input.includes("news") ||
      input.includes("math") ||
      input.includes("who") ||
      input.includes("why") ||
      input.includes("capital")
    ){
      addMessage(
        "Sorry ğŸ˜” I can only help with <b>boutique-related queries</b> like ğŸ‘— dresses, ğŸ›’ shopping, or ğŸ“¦ order tracking.",
        "bot"
      );
    }

    // â“ Unknown input
    else{
      addMessage(
        "Sorry ğŸ˜” I didnâ€™t understand that.<br><br>ğŸ‘‰ Try <b>show collection</b> or <b>track order</b>",
        "bot"
      );
    }

  }, 400);
}
</script>
